(this["webpackJsonpys-survey"]=this["webpackJsonpys-survey"]||[]).push([[0],[,,,,,,function(e,t,n){},,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(2),i=n.n(a),l=n(7),c=n.n(l),r=(n(14),n(6),n(3)),s=n(0);var o,u,d=function(e){return function(){var t=Object(a.useState)(!0),n=Object(r.a)(t,2),i=n[0],l=n[1];return i?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"blankvoid",onClick:function(){return l(!1)}}),Object(s.jsx)("div",{className:"modal",children:Object(s.jsxs)("div",{className:"mainComponent",children:[Object(s.jsx)("div",{className:"compHeader",children:Object(s.jsx)("div",{className:"round",onClick:function(){return l(!1)},children:"X"})}),Object(s.jsx)(e,{closeModal:function(){return l(!1)}})]})})]}):null}},j=n(1),b=n(4),m="name",v="email",f="gender",O="age",h="color",x="book",p=(o={},Object(j.a)(o,m,""),Object(j.a)(o,v,""),Object(j.a)(o,f,""),Object(j.a)(o,O,""),Object(j.a)(o,h,[]),Object(j.a)(o,x,""),o),g=(u={},Object(j.a)(u,m,null),Object(j.a)(u,v,null),Object(j.a)(u,f,null),Object(j.a)(u,O,null),Object(j.a)(u,h,null),Object(j.a)(u,x,null),u),N=[{name:"Male",value:"male"},{name:"Female",value:"female"}],y=["Blue ","Green","Red","Orange","Violet","Indigo","Yellow ","Black","Bown","Lavender","Magenta","Pink","Gold","Beige","Aqua"];var S=n(8),C=n(9),V=function(){function e(){Object(S.a)(this,e)}return Object(C.a)(e,null,[{key:"get",value:function(e){var t=null;try{"undefined"!==typeof localStorage&&"string"===typeof e&&""!==e&&(t=JSON.parse(localStorage.getItem(e)))}catch(n){console.error("Err. LocalStorage.get : %s",n)}return t}},{key:"set",value:function(e,t){try{"undefined"!==typeof localStorage&&"string"===typeof e&&""!==e&&t&&localStorage.setItem(e,JSON.stringify(t))}catch(n){console.error("Err. LocalStorage.set : %s",n)}}},{key:"delete",value:function(e){try{"undefined"!==typeof localStorage&&"string"===typeof e&&""!==e.trim()&&localStorage.removeItem(e)}catch(t){console.error("Err. LocalStorage.delete : %s",t)}}}]),e}();var F=Object(a.createContext)({getFormState:function(){},setFormInputValue:function(){}}),k=function(e){var t=e.initialState,n=e.children,i=Object(a.useState)(t),l=Object(r.a)(i,2),c=l[0],o=l[1],u=Object(a.useState)(g),d=Object(r.a)(u,2),m=d[0],v=d[1],f=function(e){console.log(e,"<-----------------validityObject"),v(Object(b.a)(Object(b.a)({},m),e))};Object(a.useEffect)((function(){console.log(JSON.stringify(m))}),[m]);var O={getFormState:function(){return c},setFormInputValue:function(e,t){m[e]||f(Object(j.a)({},e,!0)),o(Object(b.a)(Object(b.a)({},c),{},Object(j.a)({},e,t)))},setFormInputValid:f,getFormValidity:function(){return m}};return Object(s.jsx)(F.Provider,{value:O,children:n})},I=function(){return Object(a.useContext)(F)},E=(n(16),n(17),n(18),function(e){var t=e.label,n=e.onChange,a=e.required,i=e.inputValue,l=e.isInvalid,c=e.placeholder,r=e.disabled,o=e.type,u=void 0===o?"text":o,d=l?" invalidInput":"",j=l?"Invalid Format":null;return Object(s.jsxs)("div",{className:"inputWrapper",children:[Object(s.jsx)("label",{className:"lableStyle",children:t}),Object(s.jsx)("input",{className:"styledInput"+d,value:i,onChange:function(e){return n(e.target.value)},placeholder:c,disabled:r,required:a,type:u}),Object(s.jsx)("span",{className:"invalidText",children:j})]})}),A=(n(19),function(e){var t=e.label,n=e.onChange,a=(e.required,e.inputValue),i=e.isInvalid,l=e.placeholder,c=e.disabled,r=e.optionArray,o=(void 0===r?[]:r).map((function(e,t){return Object(s.jsx)("option",{value:e.value,children:e.name},"opt-".concat(t))}));console.log(i,"<-----------------isInvalid");var u="selectClass "+(i?"invalidSelect":""),d=i?"Please Select ".concat(t):null;return Object(s.jsxs)("div",{className:"inputWrapper",children:[Object(s.jsx)("label",{className:"lableStyle",children:t}),Object(s.jsxs)("select",{className:u,value:a,onChange:function(e){return n(e.target.value)},disabled:c,children:[Object(s.jsx)("option",{value:"",children:l}),o]}),Object(s.jsx)("span",{className:"invalidText",children:d})]})}),L=(n(20),function(e){var t=e.label,n=e.onChange,a=(e.required,e.inputValue),i=e.isInvalid,l=(e.placeholder,e.disabled,e.radioArray),c=(void 0===l?[]:l).map((function(e,t){return Object(s.jsxs)("label",{className:"radioLableStyle",children:[e.name,Object(s.jsx)("input",{type:"radio",value:e.value,checked:a===e.value,onChange:function(e){return n(e.target.value)}})]})})),r=i?"Please Select a ".concat(t):null;return Object(s.jsxs)("div",{className:"radioContainer",children:[Object(s.jsx)("label",{className:"lableStyle",children:t}),Object(s.jsx)("div",{children:c}),Object(s.jsx)("span",{className:"invalidText",children:r})]})});n(21);var B,P,D,T=function(e,t){for(var n=[],a=0;a<e.length;a++){var i=e[a];i.includes(t)&&n.push(i)}return n},M=function(e){var t=e.defaultValue,n=void 0===t?[]:t,i=e.optionArray,l=e.placeholder,c=e.setValue,o=e.label,u=e.isInvalid,d=Object(a.useState)(n),j=Object(r.a)(d,2),b=j[0],m=j[1],v=Object(a.useState)(!1),f=Object(r.a)(v,2),O=f[0],h=f[1],x=Object(a.useState)(i),p=Object(r.a)(x,2),g=p[0],N=p[1];function y(e){return e.map((function(e,t){var n="optionDiv ";return b.includes(e)&&(n+="optDisabled"),Object(s.jsx)("div",{className:n,onClick:function(){return function(e){if(!b.includes(e)){b.push(e);var t=b.slice();m(t),c(t)}}(e)},children:e})}))}var S="optionsContainer ";O&&(S+="openOptContainer");var C=function(e){var t,n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];clearTimeout(t),t=setTimeout((function(){e.apply(n,l)}),a)}}((function(e){var t=T(i,e);N(y(t))}),300),V=u?"Please Select ".concat(o):null,F="valueList "+(u?"invalidMultiSelect":""),k=b.map((function(e,t){return Object(s.jsxs)("div",{className:"valuePill",children:[e," ",Object(s.jsx)("span",{className:"removePill",onClick:function(t){return function(e,t){e.stopPropagation();var n=b.indexOf(t);b.splice(n,1);var a=b.slice();m(a),c(a)}(t,e)},children:"X"})]},"item-".concat(t))})),I=O?y(g):null;return Object(s.jsxs)("div",{className:"multiSelectContainer",children:[Object(s.jsx)("label",{className:"lableStyle",children:o}),Object(s.jsx)("div",{className:F,onClick:function(){return h(!O)},children:k.length?k:Object(s.jsx)("span",{className:"placeholderStyle",children:l})}),Object(s.jsxs)("div",{className:S,children:[Object(s.jsx)("input",{type:"text",className:"searchBarStyle",onChange:function(e){return C(e.target.value)},placeholder:"Search Options"}),Object(s.jsx)("div",{className:"optList",children:I}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{onClick:function(){return h(!1)},className:"valuePill floatRight",children:"Done"})})]}),Object(s.jsx)("span",{className:"invalidText",children:V})]})};var Y=[{title:"Identity",index:1,validation:(B={},Object(j.a)(B,m,(function(){return!0})),Object(j.a)(B,v,(function(){return!0})),B),component:function(){var e=I(),t=e.getFormState,n=e.setFormInputValue,a=e.getFormValidity,i=t(),l=a();return Object(s.jsxs)("div",{className:"stepContainer",children:[Object(s.jsx)(E,{label:"Name",inputValue:i.name,onChange:function(e){return n(m,e)},isInvalid:!1===l.name,disabled:!1,placeholder:"Add Your Name"}),Object(s.jsx)(E,{label:"Email",inputValue:i.email,onChange:function(e){return n(v,e)},isInvalid:!1===l.email,disabled:!1,placeholder:"Add Your Email",type:"email"})]})}},{title:"Details",index:2,validation:(P={},Object(j.a)(P,O,(function(e){return!Number.isNaN(Number(e))})),Object(j.a)(P,f,(function(e){return!("string"!==typeof e||!e.length)})),P),component:function(){var e=I(),t=e.getFormState,n=e.setFormInputValue,a=e.getFormValidity,i=t(),l=a(),c=function(){for(var e=[],t=0;t<=150;t++)e.push({value:t,name:t});return e}();return console.log(l.age,"<-----------------formValidity[AGE_KEY] === false"),console.log(l.gender,"<-----------------formValidity[GENDER_KEY] === false"),Object(s.jsxs)("div",{className:"stepContainer",children:[Object(s.jsx)(A,{label:"Age",inputValue:i.age,onChange:function(e){return n(O,e)},disabled:!1,optionArray:c,placeholder:"Select Your Age",isInvalid:!1===l.age}),Object(s.jsx)(L,{label:"Gender",inputValue:i.gender,radioArray:N,onChange:function(e){return n(f,e)},isInvalid:!1===l.gender})]})}},{title:"Favorites",index:3,validation:(D={},Object(j.a)(D,h,(function(e){return!(!Array.isArray(e)||!e.length)})),Object(j.a)(D,x,(function(e){return!("string"!==typeof e||!e.length)})),D),component:function(){var e=I(),t=e.getFormState,n=e.setFormInputValue,a=e.getFormValidity,i=t(),l=a();return Object(s.jsxs)("div",{className:"stepContainer",children:[Object(s.jsx)(M,{label:"Colors",optionArray:y,placeholder:"Select Multiple Colors",setValue:function(e){return n(h,e)},defaultValue:i.color,isInvalid:!1===l.color}),Object(s.jsx)(E,{label:"Favourite Book",inputValue:i.book,onChange:function(e){return n(x,e)},isInvalid:!1===l.book,disabled:!1,placeholder:"Add Your Favourite Book"})]})}},{title:"Summary",index:4,validation:{NAME_KEY:function(){return!0},EMAIL_KEY:function(){return!0}},component:function(){var e=(0,I().getFormState)();return Object(s.jsxs)("div",{className:"stepContainer summaryContainer",children:[Object(s.jsx)("div",{className:"titleContainer",children:Object(s.jsx)("h3",{children:"Identity"})}),Object(s.jsxs)("div",{className:"summaryContent",children:[Object(s.jsxs)("div",{className:"infoLine",children:[Object(s.jsx)("div",{className:"infoName",children:"Name:"}),Object(s.jsx)("div",{className:"infoValue",children:e.name})]}),Object(s.jsxs)("div",{className:"infoLine",children:[Object(s.jsx)("div",{className:"infoName",children:"Email:"}),Object(s.jsx)("div",{className:"infoValue",children:e.email})]})]}),Object(s.jsx)("div",{className:"titleContainer",children:Object(s.jsx)("h3",{children:"Description"})}),Object(s.jsxs)("div",{className:"summaryContent",children:[Object(s.jsxs)("div",{className:"infoLine",children:[Object(s.jsx)("div",{className:"infoName",children:"Age:"}),Object(s.jsx)("div",{className:"infoValue",children:e.age})]}),Object(s.jsxs)("div",{className:"infoLine",children:[Object(s.jsx)("div",{className:"infoName",children:"Gender:"}),Object(s.jsx)("div",{className:"infoValue",children:e.gender})]})]}),Object(s.jsx)("div",{className:"titleContainer",children:Object(s.jsx)("h3",{children:"Favourites"})}),Object(s.jsxs)("div",{className:"summaryContent",children:[Object(s.jsxs)("div",{className:"infoLine",children:[Object(s.jsx)("div",{className:"infoName",children:"Color:"}),Object(s.jsx)("div",{className:"infoValue",children:e.color?e.color.join(", "):null})]}),Object(s.jsxs)("div",{className:"infoLine",children:[Object(s.jsx)("div",{className:"infoName",children:"Favourite Book:"}),Object(s.jsx)("div",{className:"infoValue",children:e.book})]})]})]})}}],w=V.get("surveyData")||{},G=w.formState,q=void 0===G?p:G,J=w.index,K=void 0===J?0:J,_=Y.length,R=function(e){var t=e.setformPart,n=e.index,a=I(),i=a.getFormState,l=a.setFormInputValid;return n===_?Object(s.jsx)("button",{className:"ctaButton",onClick:function(){return console.log("Submitted")},children:"Submit"}):Object(s.jsx)("button",{className:"ctaButton",onClick:function(){var e=i(),a=function(e,t){var n={};Object.keys(e).forEach((function(a,i){var l=e[a];n[a]=l(t[a])})),console.log(n,"<-----------------Validity");var a=Object.keys(n).every((function(e){return!0===n[e]}));return console.log(a,"<-----------------allOrNothing"),!!a||n}(Y[n-1].validation,e);console.log(e,"<-----------------formState"),!0===a?(V.set("surveyData",{formState:e,index:n}),t(Y[n])):(console.log(a,"<-----------------validity"),l(a))},children:"Next"})},H=function(e){var t=e.setformPart,n=e.index;return 1===n?Object(s.jsx)("div",{}):Object(s.jsx)("button",{className:"ctaButton",onClick:function(){var e=V.get("surveyData");e.index=n-2,V.set("surveyData",e),t(Y[n-2])},children:"Previous"})},W=d((function(e){e.closeModal;var t=Object(a.useState)(Y[K]),n=Object(r.a)(t,2),i=n[0],l=n[1],c=i.component;return Object(s.jsx)(k,{initialState:q,children:Object(s.jsxs)("div",{className:"mainBody",children:[Object(s.jsx)("div",{className:"formHeader",children:Object(s.jsxs)("h2",{children:[i.title," (Step ",i.index," of ",_,")"]})}),Object(s.jsx)("div",{className:"formBody",children:Object(s.jsx)(c,{})}),Object(s.jsxs)("div",{className:"formFooter",children:[Object(s.jsx)(H,{index:i.index,setformPart:l}),Object(s.jsx)(R,{index:i.index,setformPart:l})]})]})})})),X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,l=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),l(e),c(e)}))};window.addEventListener("load",(function(e){var t=document.createElement("link");t.setAttribute("href","https://raw.githubusercontent.com/ankitmehta94/ys-survey/master/build/static/ys-survey.chunk.css");var n=document.createElement("div");n.setAttribute("id","ys-survey");var a=document.getElementsByTagName("head")[0];document.getElementsByTagName("body")[0].appendChild(n),a.appendChild(t),c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(W,{})}),n)})),X()}],[[22,1,2]]]);
//# sourceMappingURL=0.ys-survey.bundle.js.map